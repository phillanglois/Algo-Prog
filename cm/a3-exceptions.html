
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exceptions &#8212; Algo-Prog 2022</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Les ‘ndarray’ : de vrais tableaux en python" href="a2-ndarray.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo2022.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Algo-Prog 2022</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Rechercher dans ce livre ..." aria-label="Rechercher dans ce livre ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../bonjour.html">
   Bienvenu en Algo-Prog !
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Présentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="0-presentation-2022.html">
   Algorithmique et Programmation en 2022
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="competences-2022.html">
   Compétences
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Les bases
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1-fonctions.html">
   Fonctions, procédures, sous-programmes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2-boucles-avancees.html">
   Boucles, tableaux et fonctions : compléments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3-ES-fichiers.html">
   Les entrées-sorties avec des fichiers
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Algorithmique
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="6-recursivite.html">
   Récursivité
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="8-rechercher.html">
   Rechercher
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10-trier.html">
   Trier
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Programmation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="5-types_composes.html">
   Les types composés
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7-fonctions-avancees.html">
   Sous-programme et affectation – aspects avancés
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9-ES-avancees.html">
   Les entrées-sorties (E/S) : aspects avancés
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11-modules-utiles.html">
   Modules utiles
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Annexes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="a1-booleens.html">
   Annexe : les booléens en python (&gt;3.6)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="a2-ndarray.html">
   Les ‘ndarray’ : de vrais tableaux en python
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Exceptions
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Basculer la navigation" aria-controls="site-navigation"
                title="Basculer la navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Téléchargez cette page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/cm/a3-exceptions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Télécharger le fichier source" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Imprimer au format PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/phillanglois/Algo-Prog/algoprog2022"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Dépôt source"><i
                    class="fab fa-github"></i>dépôt</button></a>
        <a class="issues-button"
            href="https://github.com/phillanglois/Algo-Prog/algoprog2022/issues/new?title=Issue%20on%20page%20%2Fcm/a3-exceptions.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Ouvrez un problème"><i class="fas fa-lightbulb"></i>signaler un problème</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Mode plein écran"
        title="Mode plein écran"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/phillanglois/Algo-Prog/main?urlpath=tree/algoprog2022/cm/a3-exceptions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="lancement Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contenu
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#principes">
   Principes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-exceptions-predefinies">
   Les exceptions prédéfinies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#traitement-des-exceptions-en-python">
   Traitement des exceptions en python
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#premier-exemple-gentil">
     Premier exemple gentil
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#remarques">
     Remarques
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exemples">
     Exemples
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exceptions-definies-par-l-utilisateur">
   Exceptions définies par l’utilisateur
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#levee-d-exception-predefinie">
     Levée d’exception prédéfinie
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#definir-ses-propres-exceptions">
     Définir ses propres exceptions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#precondition">
   Précondition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#synthese">
   Synthèse
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Exceptions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contenu </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#principes">
   Principes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#les-exceptions-predefinies">
   Les exceptions prédéfinies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#traitement-des-exceptions-en-python">
   Traitement des exceptions en python
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#premier-exemple-gentil">
     Premier exemple gentil
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#remarques">
     Remarques
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exemples">
     Exemples
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exceptions-definies-par-l-utilisateur">
   Exceptions définies par l’utilisateur
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#levee-d-exception-predefinie">
     Levée d’exception prédéfinie
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#definir-ses-propres-exceptions">
     Définir ses propres exceptions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#precondition">
   Précondition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#synthese">
   Synthèse
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="exceptions">
<h1>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h1>
<p>Programmation.</p>
<p>Version 2020 (PhL).</p>
<h1>Table des matieres<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><span><a href="#Principes" data-toc-modified-id="Principes-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Principes</a></span></li><li><span><a href="#Les-exceptions-prédéfinies" data-toc-modified-id="Les-exceptions-prédéfinies-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Les exceptions prédéfinies</a></span></li><li><span><a href="#Traitement-des-exceptions-en-python" data-toc-modified-id="Traitement-des-exceptions-en-python-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Traitement des exceptions en python</a></span><ul class="toc-item"><li><span><a href="#Premier-exemple-gentil" data-toc-modified-id="Premier-exemple-gentil-3.1"><span class="toc-item-num">3.1&nbsp;&nbsp;</span>Premier exemple gentil</a></span></li><li><span><a href="#Remarques" data-toc-modified-id="Remarques-3.2"><span class="toc-item-num">3.2&nbsp;&nbsp;</span>Remarques</a></span></li><li><span><a href="#Exemples" data-toc-modified-id="Exemples-3.3"><span class="toc-item-num">3.3&nbsp;&nbsp;</span>Exemples</a></span></li></ul></li><li><span><a href="#Exceptions-définies-par-l'utilisateur" data-toc-modified-id="Exceptions-définies-par-l'utilisateur-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>Exceptions définies par l'utilisateur</a></span><ul class="toc-item"><li><span><a href="#Levée-d'exception-prédéfinie" data-toc-modified-id="Levée-d'exception-prédéfinie-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>Levée d'exception prédéfinie</a></span></li><li><span><a href="#Définir-ses-propres-exceptions" data-toc-modified-id="Définir-ses-propres-exceptions-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>Définir ses propres exceptions</a></span></li></ul></li><li><span><a href="#Précondition" data-toc-modified-id="Précondition-5"><span class="toc-item-num">5&nbsp;&nbsp;</span>Précondition</a></span></li><li><span><a href="#Synthèse" data-toc-modified-id="Synthèse-6"><span class="toc-item-num">6&nbsp;&nbsp;</span>Synthèse</a></span></li></ul></div><div class="section" id="principes">
<h2>Principes<a class="headerlink" href="#principes" title="Permalink to this headline">¶</a></h2>
<p>Motivation : certains traitements ne peuvent pas s’effectuer correctement. Comme par exemple l’évaluation d’une racine carrée négative, une division par zéro, la lecture au delà de la fin d’un fichier, l’écriture au delà de la zone mémoire accessible, …</p>
<p>Ces situations <em>exceptionnelles</em> sont prises en compte par le mécanisme des <em>exceptions</em>.</p>
<p>3 étapes :</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">raise</span></code>: l’apparition de la situation exceptionnelle <em>lève</em> une exception</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">except</span></code>: un <em>traitement de substitution</em> (ou <em>traite exception</em>) défini pour gérer au mieux l’exception concernée est appliqué</p></li>
<li><p>suite à ce traitement : <em>reprise</em> ou <em>abandon</em> du traitement initial.</p></li>
</ol>
<p>En général, la levée d’une exception correspond à une situation <em>anormale</em> du traitement. Ainsi le traitement normal est <em>interrompu</em> et le <em>traite exception</em> a pour objectif de “limiter la casse”.
Il est rare, mais pas impossible, qu’un <em>traite exception</em> permette de reprendre l’exécution normale du traitement principal.</p>
<p>Il existe deux types d’exceptions.</p>
<ul class="simple">
<li><p>les <strong>exceptions prédéfinies</strong> par le langage ou par des modules utilisés</p></li>
<li><p>les exceptions définies par l’utilisateur</p></li>
</ul>
<div class="alert alert-block alert-info">
Bien distinguer les _erreurs de syntaxe_ à l'interprétation/compilation des exceptions à _l'exécution_. 
</div></div>
<div class="section" id="les-exceptions-predefinies">
<h2>Les exceptions prédéfinies<a class="headerlink" href="#les-exceptions-predefinies" title="Permalink to this headline">¶</a></h2>
<p>En python (et dans d’autres langages), ces exceptions sont nombreuses.
Voir par exemple : <a class="reference external" href="https://docs.python.org/fr/3.5/library/exceptions.html">doc python</a></p>
<p>Elles sont organisées selon leur origine (système, calcul, mémoire, exécution, périphérique, …) par groupe et/ou de façon hierarchisée : <a class="reference external" href="https://docs.python.org/fr/3.5/library/exceptions.html#exception-hierarchy">hierarchie des exceptions python</a></p>
<p>Parmi les exceptions les plus souvent rencontrées :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="ne">ArithmeticError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">FloatingPointError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">OverflowError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">ZeroDivisionError</span>
<span class="o">-</span> <span class="ne">EOFError</span>
<span class="o">-</span> <span class="ne">NameError</span>
<span class="o">-</span> <span class="ne">OSError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">FileExistsError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">FileNotFoundError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">IsADirectoryError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">NotADirectoryError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">PermissionError</span>
<span class="o">-</span> <span class="ne">RuntimeError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">NotImplementedError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">RecursionError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">SyntaxError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">IndentationError</span>
      <span class="o">|</span>         <span class="o">+--</span> <span class="ne">TabError</span>
<span class="o">-</span> <span class="ne">TypeError</span>
<span class="o">-</span> <span class="ne">ValueError</span>
      <span class="o">|</span>    <span class="o">+--</span> <span class="ne">UnicodeError</span>
</pre></div>
</div>
<p><strong>Remarque</strong> :</p>
<ul class="simple">
<li><p>Expliquer pourquoi les exceptions <code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code> ou <code class="docutils literal notranslate"><span class="pre">IndentationError</span></code> peuvent être levées à l’exécution ?</p></li>
</ul>
</div>
<div class="section" id="traitement-des-exceptions-en-python">
<h2>Traitement des exceptions en python<a class="headerlink" href="#traitement-des-exceptions-en-python" title="Permalink to this headline">¶</a></h2>
<p>La gestion des exceptions s’effectue avec la construction suivante qui <strong>encadre les zones à risques</strong> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">:</span>
    <span class="c1"># la partie du traitement principal susceptible de mal se passer</span>
<span class="k">except</span> <span class="n">UneException</span><span class="p">:</span>
    <span class="c1"># traitement prévu si l&#39;exception `UneException` est levée</span>
<span class="k">except</span> <span class="p">(</span><span class="n">UneAutre</span><span class="p">,</span> <span class="n">EtEncoreUneAutre</span><span class="p">):</span>
    <span class="c1"># traitement prévu si les exceptions `UneAutre` ou `EncoreUneAutre` sont levées</span>
<span class="k">except</span><span class="p">:</span>
    <span class="c1"># traitement prévu si toute autre exception est levée</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># traitement si aucune exception n&#39;a été levée dans le bloc &#39;try&#39; </span>
</pre></div>
</div>
<p>**Principe **</p>
<ul class="simple">
<li><p>le bloc <code class="docutils literal notranslate"><span class="pre">try</span></code> est exécuté</p></li>
<li><p>si aucune exception est levée par cette exécution, les blocs <code class="docutils literal notranslate"><span class="pre">except</span></code> sont sautés et le traitement continue normalement après l’instruction <code class="docutils literal notranslate"><span class="pre">try</span></code></p>
<ul>
<li><p>dans le bloc <code class="docutils literal notranslate"><span class="pre">else</span></code> si il existe</p></li>
<li><p>sinon à l’instruction suivante de même niveau que le <code class="docutils literal notranslate"><span class="pre">try</span></code></p></li>
</ul>
</li>
<li><p>si une instruction du bloc <code class="docutils literal notranslate"><span class="pre">try</span></code> lève une exception :</p>
<ul>
<li><p>le bloc <code class="docutils literal notranslate"><span class="pre">try</span></code> est <em>immédiatement</em> abandonné : il n’est donc pas exécuté en entier</p></li>
<li><p>on recherche si un traite exception correspondant à l’exception levée est défini</p>
<ul>
<li><p>si oui : on l’exécute et on continue après l’instruction <code class="docutils literal notranslate"><span class="pre">try</span></code></p></li>
<li><p>si non : l’exception est propagée au <code class="docutils literal notranslate"><span class="pre">try</span></code> de niveau englobant.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section" id="premier-exemple-gentil">
<h3>Premier exemple gentil<a class="headerlink" href="#premier-exemple-gentil" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;et on vérifie : x * 1/x =&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">StdinNotImplementedError</span><span class="g g-Whitespace">                  </span>Traceback (most recent call last)
<span class="n">Input</span> <span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;et on vérifie : x * 1/x =&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>

<span class="nn">File ~/.local/share/virtualenvs/ens-3Ap4QYHt/lib/python3.9/site-packages/ipykernel/kernelbase.py:1041,</span> in <span class="ni">Kernel.raw_input</span><span class="nt">(self, prompt)</span>
<span class="g g-Whitespace">   </span><span class="mi">1034</span> <span class="sd">&quot;&quot;&quot;Forward raw_input to frontends</span>
<span class="g g-Whitespace">   </span><span class="mi">1035</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1036</span><span class="sd"> Raises</span>
<span class="g g-Whitespace">   </span><span class="mi">1037</span><span class="sd"> ------</span>
<span class="g g-Whitespace">   </span><span class="mi">1038</span><span class="sd"> StdinNotImplementedError if active frontend doesn&#39;t support stdin.</span>
<span class="g g-Whitespace">   </span><span class="mi">1039</span><span class="sd"> &quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1040</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allow_stdin</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1041</span>     <span class="k">raise</span> <span class="n">StdinNotImplementedError</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1042</span>         <span class="s2">&quot;raw_input was called, but this frontend does not support input requests.&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1043</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1044</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_request</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1045</span>     <span class="nb">str</span><span class="p">(</span><span class="n">prompt</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1046</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_parent_ident</span><span class="p">[</span><span class="s2">&quot;shell&quot;</span><span class="p">],</span>
<span class="g g-Whitespace">   </span><span class="mi">1047</span>     <span class="bp">self</span><span class="o">.</span><span class="n">get_parent</span><span class="p">(</span><span class="s2">&quot;shell&quot;</span><span class="p">),</span>
<span class="g g-Whitespace">   </span><span class="mi">1048</span>     <span class="n">password</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="g g-Whitespace">   </span><span class="mi">1049</span> <span class="p">)</span>

<span class="ne">StdinNotImplementedError</span>: raw_input was called, but this frontend does not support input requests.
</pre></div>
</div>
</div>
</div>
<p>Le traitement précédent (qui mélange ES et traitements) comporte une situation exceptionnelle qui va lever l’exception arithmétique <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span>  <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Un float stp :0
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ZeroDivisionError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">56</span><span class="n">b7ed41bd3d</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span>  <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>

<span class="ne">ZeroDivisionError</span>: float division by zero
</pre></div>
</div>
</div>
</div>
<p>On encadre la zone dangereuse avec un bloc <code class="docutils literal notranslate"><span class="pre">try</span> <span class="pre">-</span> <span class="pre">except</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float NON NUL stp :&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Désolé : on ne peut rien pour toi&quot;</span><span class="p">)</span>
    <span class="k">raise</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;et on vérifie : x * 1/x =&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Un float stp :0
Un float NON NUL stp :3
Son inverse vaut 0.3333333333333333
et on vérifie : x * 1/x = 1.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float NON NUL stp :&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Désolé : on ne peut rien pour toi&quot;</span><span class="p">)</span>
    <span class="k">raise</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;et on vérifie : x * 1/x =&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Un float stp :0
Un float NON NUL stp :0
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ZeroDivisionError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">e242cfd3cb67</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">3</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>

<span class="ne">ZeroDivisionError</span>: float division by zero

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">ZeroDivisionError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="n">e242cfd3cb67</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float NON NUL stp :&quot;</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">6</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="k">except</span> <span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Désolé : on ne peut rien pour toi&quot;</span><span class="p">)</span>

<span class="ne">ZeroDivisionError</span>: float division by zero
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float NON NUL stp :&quot;</span><span class="p">))</span>
<span class="k">except</span> <span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Désolé : on ne peut rien pour toi&quot;</span><span class="p">)</span>
    <span class="k">raise</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;et on vérifie : x * 1/x =&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Un float stp :a
Désolé : on ne peut rien pour toi
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">f06bde255fa7</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">try</span> <span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float NON NUL stp :&quot;</span><span class="p">))</span>

<span class="ne">ValueError</span>: could not convert string to float: &#39;a&#39;
</pre></div>
</div>
</div>
</div>
<p><strong>Analyse</strong></p>
<ul class="simple">
<li><p>Le traitement d’entrée au clavier est risqué  :</p></li>
<li><p>levée de l’exception <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code> si l’utisateur entre <code class="docutils literal notranslate"><span class="pre">0</span></code></p></li>
<li><p>dans ce cas, le traite-exception permet de récupérer <em>cette</em> erreur en redemandant une autre entrée</p>
<ul>
<li><p>traitement sûr si la nouvelle entrée est correcte</p></li>
<li><p>mais ….</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float NON NUL stp :&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Désolé : on ne peut rien pour toi&quot;</span><span class="p">)</span>
    <span class="k">raise</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;et on vérifie : x * 1/x =&quot;</span><span class="p">,</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Un float stp :0
Un float NON NUL stp :a
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ZeroDivisionError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">e242cfd3cb67</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float stp :&quot;</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">3</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>

<span class="ne">ZeroDivisionError</span>: float division by zero

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">ValueError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">7</span><span class="o">-</span><span class="n">e242cfd3cb67</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">5</span>     <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Un float NON NUL stp :&quot;</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Son inverse vaut&quot;</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="k">except</span> <span class="p">:</span>

<span class="ne">ValueError</span>: could not convert string to float: &#39;a&#39;
</pre></div>
</div>
</div>
</div>
<p><strong>Exercice</strong></p>
<ul class="simple">
<li><p>Que faire ?</p></li>
</ul>
</div>
<div class="section" id="remarques">
<h3>Remarques<a class="headerlink" href="#remarques" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><strong>Un seul</strong> traite exception est exécuté lorsque le bloc <code class="docutils literal notranslate"><span class="pre">try</span></code> lève une exception</p></li>
<li><p>Principe de <strong>propagation ascendante d’une exception non traitée</strong> : si aucun traite-exception est rencontré pour l’exception levée,</p>
<ul>
<li><p>cette exception est <strong>propagée</strong> au niveau supérieur,</p></li>
<li><p>et ce jusqu’à rencontrer le traite-exception qui va,</p></li>
<li><p>ou à défaut d’arrêter définitivement le traitement</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">raise</span></code> propage explicitement l’exception au niveau supérieur</p></li>
<li><p><strong>Interdire</strong> le “<code class="docutils literal notranslate"><span class="pre">except</span></code> sans <code class="docutils literal notranslate"><span class="pre">raise</span></code>” qui va absorber toutes les exceptions, même celles non prévues et donc significatives d’une anomalie profonde de l’exécution</p></li>
</ul>
</div>
<div class="section" id="exemples">
<h3>Exemples<a class="headerlink" href="#exemples" title="Permalink to this headline">¶</a></h3>
<p>Les ES sont des zones à risque.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="p">:</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./fichier_qui_n_existe_pas.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fichier pas trouvé&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fichier pas trouvé
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>cat ./tmp/fichier_entrees2.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
99
21
33
</pre></div>
</div>
</div>
</div>
<p>Le comportement suivant illustre la robustesse de python :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">readline()</span></code> ne lève pas d’exception EOF</p></li>
<li><p>mais renvoit une chaine vide ;</p></li>
<li><p>ce qui n’est pas le cas de nombreux langages qui effectueraient le même traitement (incorrect)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./tmp/fichier_entrees2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">7</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
    <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;6\n&#39;, &#39;99\n&#39;, &#39;21\n&#39;, &#39;33\n&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;]
</pre></div>
</div>
</div>
</div>
<p>Peut quand-même avoir des problèmes :</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./tmp/fichier_entrees2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>

<span class="n">tab</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Nbre de valeurs à lire : &quot;</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nbre de valeurs à lire : 4
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">IndexError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">17</span><span class="o">-</span><span class="n">a9ae890f366b</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> 
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">9</span>     <span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> 
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="nb">print</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>

<span class="ne">IndexError</span>: index 3 is out of bounds for axis 0 with size 3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;./tmp/fichier_entrees2.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>

<span class="n">tab</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Nbre de valeurs à lire : &quot;</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">tab</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tab trop petit :&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">tab</span><span class="p">))</span>
        
<span class="nb">print</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nbre de valeurs à lire : 4
Tab trop petit : (3,)
[ 6 99 21]
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="exceptions-definies-par-l-utilisateur">
<h2>Exceptions définies par l’utilisateur<a class="headerlink" href="#exceptions-definies-par-l-utilisateur" title="Permalink to this headline">¶</a></h2>
<p>Le développement de modules ou de traitements peut nécessiter de prévoir des cas exceptionnels qui seraient déclenchés par leur utilisation incorrecte.</p>
<div class="section" id="levee-d-exception-predefinie">
<h3>Levée d’exception prédéfinie<a class="headerlink" href="#levee-d-exception-predefinie" title="Permalink to this headline">¶</a></h3>
<p>On peut souhaiter <em>lever une exception prédéfinie</em> qui correspond au type d’erreur qu’elle couvre dans le cas général.</p>
<p>Il suffit d’exécuter :</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">raise</span> <span class="pre">telle_exception(&quot;message</span> <span class="pre">d'accompagnement&quot;)</span> </code></p>
</div></blockquote>
<p><strong>Exemple</strong><br />
Un exemple est donné dans le paragraphe suivant avec l’exception <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sd">&#39;&#39;&#39;On récupère des entrées au clavier pour initialiser un vecteur de taille fixée.</span>
<span class="sd">le traitement de la ligne 10 peut lever l&#39;exception prédéfinie IndexError&#39;&#39;&#39;</span>
<span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">cond</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">cond</span><span class="p">:</span>      
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Une valeur stp :&quot;</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&quot;v est de longueur&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="s2">&quot;et&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span><span class="s2">&quot;-ième entree.&quot;</span><span class="p">)</span>
    <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>    

    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Une valeur stp :1
Une valeur stp :1
Une valeur stp :1
Une valeur stp :1
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">IndexError</span><span class="g g-Whitespace">                                </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">24</span><span class="o">-</span><span class="mf">1e49069</span><span class="n">c3639</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Une valeur stp :&quot;</span><span class="p">))</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">9</span>         <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&quot;v est de longueur&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="s2">&quot;et&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span><span class="s2">&quot;-ième entree.&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>     <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span>     <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>

<span class="ne">IndexError</span>: (&#39;v est de longueur&#39;, 3, &#39;et&#39;, 3, &#39;-ième entree.&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="definir-ses-propres-exceptions">
<h3>Définir ses propres exceptions<a class="headerlink" href="#definir-ses-propres-exceptions" title="Permalink to this headline">¶</a></h3>
<p>Il faut aussi pouvoir <em>définir ses propres exceptions</em></p>
<ul class="simple">
<li><p>adaptées au traitement proposé par notre module</p></li>
<li><p>et qui seront éventuellement traités par le contexte qui utilise notyre module.</p></li>
</ul>
<p>En python, la définition des exceptions passe par la définition de <em>classes</em> (et de sous-classes d’exception) intégrées au module développé.</p>
<p>N’ayant pas introduit la notion de classe, nous ne détaillerons donc pas (cette année) comment définir ses propres exceptions.</p>
</div>
</div>
<div class="section" id="precondition">
<h2>Précondition<a class="headerlink" href="#precondition" title="Permalink to this headline">¶</a></h2>
<p>Certaines fonctions (ou traitements) sont définies avec des hypothèses sur les arguments effectifs.</p>
<ul class="simple">
<li><p>Par exemple, la division <code class="docutils literal notranslate"><span class="pre">x/y</span></code> n’est pas définie pour <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">==</span> <span class="pre">0</span></code> et ce cas lève l’exception prédéfinie <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code>.</p></li>
</ul>
<p>L’instruction <strong><code class="docutils literal notranslate"><span class="pre">assert</span></code></strong> permet de vérifier une précondition.</p>
<ul class="simple">
<li><p>Une <em>précondition</em> est une expression à valeur booléenne</p>
<ul>
<li><p>Exemple : <code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">!=</span> <span class="pre">0</span></code> est une précondition pour la division <code class="docutils literal notranslate"><span class="pre">x/y</span></code></p></li>
</ul>
</li>
<li><p>Si la précondition est satisfaite (True), le traitement continue normalement</p></li>
<li><p>sinon l’exception <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> est levée.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">diviser</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span>

<span class="nb">print</span><span class="p">(</span><span class="n">diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.0
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AssertionError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">19</span><span class="o">-</span><span class="n">f71c219602a0</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="n">diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="nb">print</span><span class="p">(</span><span class="n">diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">))</span>

<span class="nn">&lt;ipython-input-19-f71c219602a0&gt;</span> in <span class="ni">diviser</span><span class="nt">(x, y)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">diviser</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="k">assert</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="k">return</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="n">diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">))</span>

<span class="ne">AssertionError</span>: 
</pre></div>
</div>
</div>
</div>
<p>L’assertion peut être accompagnée d’un message indicatif comme annoncé plus haut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mon_diviser</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;mon_diviser : division par 0&quot;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mon_diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mon_diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.0
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AssertionError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">20</span><span class="o">-</span><span class="n">c2198894506f</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="n">mon_diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">))</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="nb">print</span><span class="p">(</span><span class="n">mon_diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">))</span>

<span class="nn">&lt;ipython-input-20-c2198894506f&gt;</span> in <span class="ni">mon_diviser</span><span class="nt">(x, y)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">mon_diviser</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="k">assert</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;mon_diviser : division par 0&quot;</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="k">return</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="nb">print</span><span class="p">(</span><span class="n">mon_diviser</span><span class="p">(</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">))</span>

<span class="ne">AssertionError</span>: mon_diviser : division par 0
</pre></div>
</div>
</div>
</div>
<p><strong>Utilisation</strong></p>
<ul class="simple">
<li><p>Vérifier les préconditions le plus tôt possible dans le cadre de la fonction pour éviter les modification d’états qui ne seront pas menées correctement jusqu’au bout</p></li>
<li><p>Le traitement est similaire à un <code class="docutils literal notranslate"><span class="pre">if</span></code> associé à la levée de l’exception <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> mais la lecture d’une clause <code class="docutils literal notranslate"><span class="pre">assert</span></code> est plus informative qu’un <code class="docutils literal notranslate"><span class="pre">if</span></code> (parmi d’autres) sur les conditions d’utilisation du code concerné.</p></li>
<li><p>Utile au debuggage</p></li>
</ul>
</div>
<div class="section" id="synthese">
<h2>Synthèse<a class="headerlink" href="#synthese" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Les exceptions qualifient des traitements incorrects <em>exceptionnels</em></p></li>
<li><p>Les traites exception permettent de “récupérer la main” pour sortir au mieux du c as incorrect</p></li>
<li><p>Encadrer les zones à risque de la construction : <code class="docutils literal notranslate"><span class="pre">try:</span> <span class="pre">...</span> <span class="pre">except:</span> <span class="pre">...</span></code></p></li>
<li><p>Le mécanisme est “traitement <code class="docutils literal notranslate"><span class="pre">except</span></code> ou sinon propagation”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">raise</span></code> pour lever ses exceptions  (prédéfinies ou personnelles)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assert</span></code> pour définir et vérifier des préconditions</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./cm"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="a2-ndarray.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Les ‘ndarray’ : de vrais tableaux en python</p>
        </div>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      Par Ph. Langlois<br/>
    
        &copy; droits d'auteur 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>